[gd_scene load_steps=12 format=3 uid="uid://bpseboohqxgou"]

[ext_resource type="Script" path="res://game/tutorial/machine.gd" id="1_07uey"]
[ext_resource type="Texture2D" uid="uid://588loi4efqgk" path="res://art/game/tutorial/bg_tile_blue_lines.png" id="2_jtvk6"]
[ext_resource type="Texture2D" uid="uid://c1hsu6ff3h4lg" path="res://art/game/tutorial/bg_clouds.png" id="3_0e6op"]
[ext_resource type="Texture2D" uid="uid://buoossw013p5m" path="res://art/game/tutorial/bg_doodles.png" id="4_5dxhy"]
[ext_resource type="PackedScene" uid="uid://dw1vps7k815gg" path="res://game/flipper.tscn" id="4_6pi0p"]
[ext_resource type="Texture2D" uid="uid://dmcfrw3oe1auf" path="res://art/game/tutorial/machine_bounds.png" id="5_addj0"]
[ext_resource type="Texture2D" uid="uid://cs603d3w4khyh" path="res://art/game/tutorial/flipper_lane.png" id="6_lvykr"]
[ext_resource type="Texture2D" uid="uid://bow6uwf786rd2" path="res://art/game/tutorial/plunger_gate.png" id="7_tk6d3"]
[ext_resource type="PackedScene" uid="uid://c2ikokn6p8d5d" path="res://game/tutorial/sling.tscn" id="8_hrvvv"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_bg44k"]
friction = 0.75
bounce = 0.2

[sub_resource type="RectangleShape2D" id="RectangleShape2D_uvr46"]
size = Vector2(90, 12)

[node name="Machine" type="Node2D"]
script = ExtResource("1_07uey")

[node name="ColorRect" type="ColorRect" parent="."]
offset_right = 500.0
offset_bottom = 800.0

[node name="TextureRect" type="TextureRect" parent="."]
offset_right = 500.0
offset_bottom = 800.0
texture = ExtResource("2_jtvk6")
stretch_mode = 1

[node name="Sprite2D2" type="Sprite2D" parent="."]
modulate = Color(1, 1, 1, 0.294118)
scale = Vector2(0.5, 0.5)
texture = ExtResource("3_0e6op")
centered = false

[node name="Sprite2D" type="Sprite2D" parent="."]
texture = ExtResource("4_5dxhy")
centered = false

[node name="Box" type="StaticBody2D" parent="." groups=["isWall"]]
z_index = 50
physics_material_override = SubResource("PhysicsMaterial_bg44k")

[node name="Sprite2D_Box" type="Sprite2D" parent="Box"]
texture = ExtResource("5_addj0")
centered = false

[node name="Collisions_Top" type="CollisionPolygon2D" parent="Box"]
position = Vector2(250, 400)
polygon = PackedVector2Array(-245, -219, -243, -240, -235, -260, -221, -280, -200, -300, -169, -319, -150, -328, -130, -335, -109, -342, -90, -346, -70, -349, -50, -352, -30, -353, -10, -354, 11, -354, 31, -353, 50, -352, 70, -349, 90, -346, 110, -341, 130, -335, 150, -328, 171, -319, 200, -300, 221, -280, 235, -259, 242, -240, 245, -220, 245, -40, 250, -40, 250, -400, -250, -400, -250, -220, -250, -40, -245, -40)

[node name="Collisions_Bottom" type="CollisionPolygon2D" parent="Box"]
position = Vector2(250, 400)
polygon = PackedVector2Array(-245, -60, -250, -60, -250, 400, 250, 400, 250, -60, 245, -60, 245, 354, 225, 354, 225, 180.176, 225, -225, 220, -225, 220, 180, 212, 200, 199, 220, 184, 240, 167, 260, 148, 280, 128, 300, 105, 320, 81, 340, 53, 360, 37, 369, 19, 376, 13, 397, -40, 397, -45, 376, -63, 369, -79, 360, -107, 340, -131, 320, -153, 300, -173, 280, -192, 260, -209, 240, -224, 220, -237, 200, -245, 180)

[node name="DrainGutterArea2D" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="DrainGutterArea2D"]
position = Vector2(236, 794)
shape = SubResource("RectangleShape2D_uvr46")

[node name="LeftGuide" type="StaticBody2D" parent="." groups=["isWall"]]

[node name="Sprite2D_LeftGuide" type="Sprite2D" parent="LeftGuide"]
position = Vector2(89.3, 595.2)
texture = ExtResource("6_lvykr")

[node name="Collisions_LeftGuide" type="CollisionPolygon2D" parent="LeftGuide"]
position = Vector2(233.3, 384.2)
polygon = PackedVector2Array(-190, 113.015, -190, 193, -84, 299, -84, 303, -88, 309, -94, 313, -100, 313, -107, 309, -205, 199, -205, 113, -204, 110, -202, 109, -197.3, 108.8, -193, 109, -191, 110)

[node name="RightGuide" type="StaticBody2D" parent="." groups=["isWall"]]
position = Vector2(475, 0)
rotation = -3.14159
scale = Vector2(1, -1)

[node name="Sprite2D_LeftGuide" type="Sprite2D" parent="RightGuide"]
position = Vector2(87.7, 594.2)
texture = ExtResource("6_lvykr")

[node name="Collisions_LeftGuide" type="CollisionPolygon2D" parent="RightGuide"]
position = Vector2(231.7, 383.2)
polygon = PackedVector2Array(-190, 113.015, -190, 193, -84, 299, -84, 303, -88, 309, -94, 313, -100, 313, -107, 309, -205, 199, -205, 113, -204, 110, -202, 109, -196.7, 108.8, -193, 109, -191, 110)

[node name="PlungerGate" type="StaticBody2D" parent="."]
position = Vector2(457, 129)
collision_layer = 2

[node name="Sprite2D" type="Sprite2D" parent="PlungerGate"]
z_index = 40
position = Vector2(1, 3)
texture = ExtResource("7_tk6d3")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="PlungerGate"]
polygon = PackedVector2Array(13, 46, 18, 46, 17, 31, 14, 11, 8, -9, -3, -36, -13, -33, -7, -29, -1, -19, 4, -8, 7, 1, 10, 12, 12, 22, 13, 32)

[node name="PlungerArea2D" type="Area2D" parent="."]
position = Vector2(457, 129)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="PlungerArea2D"]
polygon = PackedVector2Array(13, 46, 18, 46, 17, 31, 14, 11, 8, -9, -3, -36, -13, -33, -7, -29, -1, -19, 4, -8, 7, 1, 10, 12, 12, 22, 13, 32)

[node name="FlipperLeft" parent="." instance=ExtResource("4_6pi0p")]
position = Vector2(155, 696)

[node name="FlipperRight" parent="." instance=ExtResource("4_6pi0p")]
position = Vector2(321, 696)
rotation = -3.14159
scale = Vector2(1, -1)

[node name="SlingLeft" parent="." instance=ExtResource("8_hrvvv")]
position = Vector2(114, 567)

[node name="SlingRight" parent="." instance=ExtResource("8_hrvvv")]
position = Vector2(365, 567)
rotation = -3.14159
scale = Vector2(1, -1)

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
process_mode = 3

[connection signal="body_entered" from="DrainGutterArea2D" to="." method="_on_drain_gutter_area_2d_body_entered"]
[connection signal="body_exited" from="PlungerArea2D" to="." method="_on_plunger_area_2d_body_exited"]
